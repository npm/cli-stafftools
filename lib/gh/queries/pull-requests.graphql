query (
  $repos: String!
  $firstRepos: Int!
  $firstPrs: Int!
  $label: [String!]
  $state: [PullRequestState!]
) {
  search(query: $repos, first: $firstRepos, type: REPOSITORY) {
    nodes {
      ... on Repository {
        name
        nameWithOwner
        owner {
          login
        }
        pkg: object(expression: "HEAD:package.json") {
          ... on Blob {
            text
          }
        }
        pullRequests(labels: $label, first: $firstPrs, states: $state) {
          nodes {
            number
            url
            title
            state
            baseRefName
            headRefName
            labels(first: 10) {
              nodes {
                name
              }
            }
            commits(last: 1) {
              nodes {
                commit {
                  message
                  statusCheckRollup {
                    state
                  }
                }
              }
            }
          }
        }
        allPrs: pullRequests(first: $firstPrs, states: $state) {
          nodes {
            number
            url
            title
            state
            labels(first: 10) {
              nodes {
                name
              }
            }
          }
        }
      }
    }
  }
}
